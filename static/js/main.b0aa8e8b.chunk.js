(this["webpackJsonppuzzle-box-single"]=this["webpackJsonppuzzle-box-single"]||[]).push([[0],{40:function(e,t,n){e.exports=n(85)},45:function(e,t,n){},46:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,n){},48:function(e,t,n){},82:function(e,t){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),s=(n(45),n(2));n(46),n(47),n(48);var c=function(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),o=n[0],i=n[1];return a.a.createElement("div",null,a.a.createElement("div",null,"Enter Board size"),a.a.createElement("div",{className:"Register-class"},a.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(3)}},"3"),a.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(4)}},"4"),a.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(5)}},"5"),a.a.createElement("input",{placeholder:"size",onChange:function(e){return i(e.target.value),void console.log(o)},onKeyPress:function(t){!function(t){13==t.charCode&&(t.preventDefault(),""===o?alert("Enter a number"):isNaN(o)||e.handleRegisterPress(o))}(t)}})))},l=n(34),u=n(35);var f=function(e){var t=Object(r.useState)(0),n=Object(s.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(0),l=Object(s.a)(c,2),u=l[0],f=l[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=e.index,n=Math.floor(t/e.size),r=t%e.size,a=m.current.getContext("2d"),o=new Image;o.onload=function(){e.handleChangeSize(o.height,o.width+20);var t=o.width/e.size,s=o.height/e.size;i(s),f(t),a.drawImage(o,t*r,s*n,t,s,0,0,t,s)},o.src=e.imageUrl}),[o,u]),a.a.createElement("div",null,a.a.createElement("canvas",{ref:m,height:o+"px",width:u+"px"}))};var m=function(e){var t=Object(r.useState)(0),n=Object(s.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(0),l=Object(s.a)(c,2),u=l[0],f=l[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=m.current.getContext("2d"),n=new Image;n.onload=function(){var r=n.width,a=n.height;i(a/e.size),f(r/e.size),t.drawImage(n,0,0,r/e.size,a/e.size)},n.src=e.imageUrl}),[o,u]),a.a.createElement("div",null,a.a.createElement("canvas",{ref:m,height:o+"px",width:u+"px"}))};function d(){var e=Object(l.a)(["\n        width: ","%;\n        box-sizing: border-box;\n        "]);return d=function(){return e},e}var v=function(e){var t=Object(r.useState)(e.size*e.size-1),n=Object(s.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)([]),l=Object(s.a)(c,2),v=l[0],h=l[1],g=Object(r.useState)("600px"),z=Object(s.a)(g,2),b=z[0],p=z[1],E=Object(r.useState)("600px"),j=Object(s.a)(E,2),O=j[0],w=j[1],k=u.a.div(d(),100/e.size),y=function(e,t){p(e),w(t)},S=function(t){if("ArrowDown"===t.key){var n=Math.floor(o/e.size),r=o%e.size,a=(n+1)*e.size+r;if(n+1<e.size){var s=v,c=s[a];s[a]=s[o],s[o]=c,i((function(t){return(n+1)*e.size+r})),h((function(e){return s})),M(s)}}if("ArrowUp"===t.key){var l=Math.floor(o/e.size),u=o%e.size,f=(l-1)*e.size+u;if(f>=0){var m=v,d=m[f];m[f]=m[o],m[o]=d,i((function(t){return(l-1)*e.size+u})),h((function(e){return m})),M(m)}}if("ArrowLeft"===t.key){var g=Math.floor(o/e.size),z=o%e.size,b=g*e.size+(z-1);if(z-1>=0){var p=v,E=p[b];p[b]=p[o],p[o]=E,i((function(t){return g*e.size+(z-1)})),h((function(e){return p})),M(p)}}if("ArrowRight"===t.key){var j=Math.floor(o/e.size),O=o%e.size,w=j*e.size+(O+1);if(O+1<e.size){var k=v,y=k[w];k[w]=k[o],k[o]=y,i((function(t){return j*e.size+(O+1)})),h((function(e){return k})),M(k)}}},x=function(t,n){t.path.length;for(var r=0,a=0;a<v.length;a++)t.path[2].id==v[a].key&&(r=a);var s=Math.floor(r/e.size),c=r%e.size,l=Math.floor(o/e.size),u=o%e.size;if(s==l-1&&u==c){var f=v,m=f[r];f[r]=f[o],f[o]=m,i((function(e){return r})),h((function(e){return f})),M(f)}if(s==l+1&&u==c){var d=v,g=d[r];d[r]=d[o],d[o]=g,i((function(e){return r})),h((function(e){return d})),M(d)}if(s==l&&u==c+1){var z=v,b=z[r];z[r]=z[o],z[o]=b,i((function(e){return r})),h((function(e){return z})),M(z)}if(s==l&&u==c-1){var p=v,E=p[r];p[r]=p[o],p[o]=E,i((function(e){return r})),h((function(e){return p})),M(p)}},M=function(t){for(var n=0,r=[],a=0;a<t.length;a++)r.push(t[a].key);console.log("iS solvable now?:",e.isSolvable(e.size,r));for(var o=0;o<e.size*e.size-1;o++)t[o].key==o&&n++;n==e.size*e.size-1&&alert("WIN!!")};return Object(r.useEffect)((function(){0===v.length&&function(t){for(var n=[],r=0;r<t*t;r++)if(r!==t*t-1){Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random());n.push(a.a.createElement(k,{key:r,id:r},a.a.createElement(f,{handleChangeSize:y,imageUrl:e.imageUrl,size:t,index:r},r)))}else n.push(a.a.createElement(k,{key:t*t-1,id:r},a.a.createElement("div",null)));for(var o=[],i=0;i<t*t-1;i++)o.push(n[e.random[i]]);console.log(e.random[0]+1,e.random[1]+1,e.random[2]+1,e.random[3]+1,e.random[4]+1,e.random[5]+1,e.random[6]+1,e.random[7]+1),o.push(n[t*t-1]),h(o)}(e.size);for(var t=0;t<e.size*e.size;t++)document.getElementById(t)&&document.getElementById(t).addEventListener("click",x);return document.addEventListener("keydown",S,!1),function(){document.removeEventListener("keydown",S,!1),console.log("removed keydown event");for(var t=0;t<e.size*e.size;t++)document.getElementById(t)&&document.getElementById(t).removeEventListener("click",x)}}),[v,o]),a.a.createElement("div",{className:"flex-game"},a.a.createElement("div",{style:{width:"1rem"}},"Image:",a.a.createElement(m,{size:3,imageUrl:e.imageUrl})),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:b,width:O},onKeyPress:function(e){S()}},a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},v)),a.a.createElement("div",{style:{height:"1rem"}}))},h=n(8);var g=Object(h.b)("SocketStore")(Object(h.c)((function(e){e.SocketStore;var t=Object(r.useState)(""),n=Object(s.a)(t,2),o=n[0],i=n[1],l=Object(r.useState)([]),u=Object(s.a)(l,2),f=u[0],m=u[1],d=Object(r.useState)(""),h=Object(s.a)(d,2),g=h[0],z=h[1],b=Object(r.useState)(!1),p=Object(s.a)(b,2),E=p[0],j=p[1];function O(e,t,n){for(var r=0,a=e*e,o=Math.floor(t/e)*e+t%e,i=t+1;i<a;++i){var s=i%e*e+Math.floor(i/e);o>Math.floor(n[s]/e)*e+n[s]%e&&o!=a-1&&++r}return r}var w=function(e,t){var n=0;console.log("size size",e);for(var r=0;r<e;++r)for(var a=0;a<e;++a){n+=O(e,r*e+a,t)}return n},k=function(e){console.log("random is ",e);for(var t=0,n=0;n<e.length-1;n++)for(var r=n+1;r<e.length;r++)e[n]>e[r]&&t++;return t};function y(e,t){return k(t)%2==0}function S(e,t){return w(e,t)%2==0}return Object(r.useEffect)((function(){var e=["https://i.imgur.com/YLWsY4G.jpg","https://i.imgur.com/Irg9QIx.jpg","https://i.imgur.com/W9U5y71.jpg"],t=Math.floor(Math.random()*e.length);z(e[t])}),[]),!1===E?a.a.createElement("div",{className:"App"},a.a.createElement(c,{handleRegisterPress:function(e){var t=[];do{t=[];for(var n=0;n<e*e-1;n++)t.push(n);t.sort((function(){return Math.random()-.5})),console.log(t),console.log("is solvable:",S(e,t)),console.log("is solvable2:",y(0,t))}while(!y(0,t));console.log("pre sums",t),console.log("sum inversions1:",w(e,t)),console.log("sum inversions2:",k(t)),console.log("is solvable:",S(e,t)),console.log("is solvable2:",y(0,t)),S(e,t)&&(m(t),i(e),j(!0))}})):a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"Lobby-class"},a.a.createElement(v,{size:o,random:f,isSolvable:S,imageUrl:g})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(11),b=(n(52),z.a.model("SocketStore",{socket:z.a.frozen(),username:z.a.string}).views((function(e){return{getUsername:function(){return e.username}}})).actions((function(e){return{register:function(t){e.username=t},setName:function(t){e.username=t},afterCreate:function(){},setSocket:function(t){e.socket=t}}})).create({socket:{},username:""}));console.log(b),i.a.render(a.a.createElement(h.a,{SocketStore:b},a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.b0aa8e8b.chunk.js.map