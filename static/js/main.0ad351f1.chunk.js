(this["webpackJsonppuzzle-box-single"]=this["webpackJsonppuzzle-box-single"]||[]).push([[0],{40:function(e,t,n){e.exports=n(85)},45:function(e,t,n){},46:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,n){},48:function(e,t,n){},82:function(e,t){},85:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(7),i=n.n(a),c=(n(45),n(2));n(46),n(47),n(48);var s=function(e){var t=Object(o.useState)(""),n=Object(c.a)(t,2),a=n[0],i=n[1];return r.a.createElement("div",null,r.a.createElement("div",null,"Enter Board size"),r.a.createElement("div",{className:"Register-class"},r.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(3)}},"3"),r.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(4)}},"4"),r.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(5)}},"5"),r.a.createElement("input",{placeholder:"size",onChange:function(e){return i(e.target.value),void console.log(a)},onKeyPress:function(t){!function(t){13==t.charCode&&(t.preventDefault(),""===a?alert("Enter a number"):isNaN(a)||e.handleRegisterPress(a))}(t)}})))},l=n(34),u=n(35);var f=function(e){var t=Object(o.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(o.useState)(0),l=Object(c.a)(s,2),u=l[0],f=l[1],m=Object(o.useRef)(null);return Object(o.useEffect)((function(){var t=e.index,n=Math.floor(t/e.size),o=t%e.size,r=m.current.getContext("2d"),a=new Image;a.onload=function(){e.handleChangeSize(a.height,a.width+20);var t=a.width/e.size,c=a.height/e.size;i(c),f(t),r.drawImage(a,t*o,c*n,t,c,0,0,t,c)},a.src=e.imageUrl}),[a,u]),r.a.createElement("div",null,r.a.createElement("canvas",{ref:m,height:a+"px",width:u+"px"}))};var m=function(e){var t=Object(o.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(o.useState)(0),l=Object(c.a)(s,2),u=l[0],f=l[1],m=Object(o.useRef)(null);return Object(o.useEffect)((function(){var t=m.current.getContext("2d"),n=new Image;n.onload=function(){var o=n.width,r=n.height;i(r/e.size),f(o/e.size),t.drawImage(n,0,0,o/e.size,r/e.size)},n.src=e.imageUrl}),[a,u]),r.a.createElement("div",null,r.a.createElement("canvas",{ref:m,height:a+"px",width:u+"px"}))};function d(){var e=Object(l.a)(["\n        width: ","%;\n        box-sizing: border-box;\n        "]);return d=function(){return e},e}var g=function(e){var t=Object(o.useState)(e.size*e.size-1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(o.useState)([]),l=Object(c.a)(s,2),g=l[0],h=l[1],v=Object(o.useState)("600px"),z=Object(c.a)(v,2),b=z[0],E=z[1],S=Object(o.useState)("600px"),p=Object(c.a)(S,2),j=p[0],O=p[1],w=u.a.div(d(),100/e.size),y=function(e,t){console.log("changed size"),E(e),O(t)},k=function(t){if(console.log("USER CLICKED:",t.key),console.log("array:",g),"ArrowDown"===t.key){var n=Math.floor(a/e.size),o=a%e.size,r=(n+1)*e.size+o;if(n+1<e.size){var c=g,s=c[r];c[r]=c[a],c[a]=s,i((function(t){return(n+1)*e.size+o})),h((function(e){return c})),C(c)}}if("ArrowUp"===t.key){var l=Math.floor(a/e.size),u=a%e.size,f=(l-1)*e.size+u;if(f>=0){var m=g,d=m[f];m[f]=m[a],m[a]=d,i((function(t){return(l-1)*e.size+u})),h((function(e){return m})),C(m)}}if("ArrowLeft"===t.key){var v=Math.floor(a/e.size),z=a%e.size,b=v*e.size+(z-1);if(z-1>=0){var E=g,S=E[b];E[b]=E[a],E[a]=S,i((function(t){return v*e.size+(z-1)})),h((function(e){return E})),C(E)}}if("ArrowRight"===t.key){var p=Math.floor(a/e.size),j=a%e.size,O=p*e.size+(j+1);if(j+1<e.size){var w=g,y=w[O];w[O]=w[a],w[a]=y,i((function(t){return p*e.size+(j+1)})),h((function(e){return w})),C(w)}}},x=function(t,n){t.path.length;for(var o=0,r=0;r<g.length;r++)t.path[2].id==g[r].key&&(o=r);console.log(g[o].key);var c=Math.floor(o/e.size),s=o%e.size,l=Math.floor(a/e.size),u=a%e.size;if(c==l-1&&u==s){var f=g,m=f[o];f[o]=f[a],f[a]=m,console.log("SWAP SUCCESS"),i((function(e){return o})),h((function(e){return f})),C(f)}if(c==l+1&&u==s){var d=g,v=d[o];d[o]=d[a],d[a]=v,console.log("SWAP SUCCESS"),i((function(e){return o})),h((function(e){return d})),C(d)}if(c==l&&u==s+1){var z=g,b=z[o];z[o]=z[a],z[a]=b,console.log("SWAP SUCCESS"),i((function(e){return o})),h((function(e){return z})),C(z)}if(c==l&&u==s-1){var E=g,S=E[o];E[o]=E[a],E[a]=S,console.log("SWAP SUCCESS"),i((function(e){return o})),h((function(e){return E})),C(E)}console.log("handleClick array:",g,o)},C=function(t){console.log("check win:",t),console.log(t[0]);for(var n=0,o=0;o<e.size*e.size-1;o++)t[o].key==o&&n++,console.log("TEST IS ",n);n==e.size*e.size-1&&alert("WIN!!")};return Object(o.useEffect)((function(){console.log("refresh"),0===g.length&&function(t){console.log("initArray size:",t);for(var n=[],o=0;o<t*t;o++)if(o!==t*t-1){Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random());n.push(r.a.createElement(w,{key:o,id:o},r.a.createElement(f,{handleChangeSize:y,imageUrl:e.imageUrl,size:t,index:o},o)))}else n.push(r.a.createElement(w,{key:t*t-1,id:o},r.a.createElement("div",null)));for(var a=[],i=0;i<t*t-1;i++)a.push(n[e.random[i]]);a.push(n[t*t-1]),h(a)}(e.size);for(var t=0;t<e.size*e.size;t++)document.getElementById(t)&&document.getElementById(t).addEventListener("click",x);return document.addEventListener("keydown",k,!1),console.log("created keydown event"),function(){document.removeEventListener("keydown",k,!1),console.log("removed keydown event");for(var t=0;t<e.size*e.size;t++)console.log("deleting"),document.getElementById(t)&&(console.log("exist"),document.getElementById(t).removeEventListener("click",x))}}),[g,a]),r.a.createElement("div",{className:"flex-game"},r.a.createElement("div",{style:{width:"1rem"}},"Image:",r.a.createElement(m,{size:3,imageUrl:e.imageUrl})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:b,width:j},onKeyPress:function(e){k()}},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},g)),r.a.createElement("div",{style:{height:"1rem"}}))},h=n(8);var v=Object(h.b)("SocketStore")(Object(h.c)((function(e){e.SocketStore;var t=Object(o.useState)(""),n=Object(c.a)(t,2),a=n[0],i=n[1],l=Object(o.useState)([]),u=Object(c.a)(l,2),f=u[0],m=u[1],d=Object(o.useState)(""),h=Object(c.a)(d,2),v=h[0],z=h[1],b=Object(o.useState)(!1),E=Object(c.a)(b,2),S=E[0],p=E[1];function j(e,t,n){for(var o=0,r=e*e,a=Math.floor(t/e)*e+t%e,i=t+1;i<r;++i){var c=i%e*e+Math.floor(i/e);a>Math.floor(n[c]/e)*e+n[c]%e&&a!=r-1&&++o}return o}var O=function(e,t){var n=0;console.log("size size",e);for(var o=0;o<e;++o)for(var r=0;r<e;++r){n+=j(e,o*e+r,t)}return n};function w(e,t){return O(e,t)%2==0}return Object(o.useEffect)((function(){var e=["https://i.imgur.com/YLWsY4G.jpg","https://i.imgur.com/Irg9QIx.jpg","https://i.imgur.com/W9U5y71.jpg"],t=Math.floor(Math.random()*e.length);z(e[t])}),[]),!1===S?r.a.createElement("div",{className:"App"},r.a.createElement(s,{handleRegisterPress:function(e){var t=[];do{t=[];for(var n=0;n<e*e-1;n++)t.push(n);t.sort((function(){return Math.random()-.5})),console.log(t),console.log("is solvable:",w(e,t))}while(!w(e,t));m(t),i(e),p(!0),console.log("sum inversions:",O(e,t)),console.log("is solvable:",w(e,t))}})):r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Lobby-class"},r.a.createElement(g,{size:a,random:f,imageUrl:v})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(11),b=(n(52),z.a.model("SocketStore",{socket:z.a.frozen(),username:z.a.string}).views((function(e){return{getUsername:function(){return e.username}}})).actions((function(e){return{register:function(t){e.username=t},setName:function(t){e.username=t},afterCreate:function(){},setSocket:function(t){e.socket=t}}})).create({socket:{},username:""}));console.log(b),i.a.render(r.a.createElement(h.a,{SocketStore:b},r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.0ad351f1.chunk.js.map