(this["webpackJsonppuzzle-box-single"]=this["webpackJsonppuzzle-box-single"]||[]).push([[0],{40:function(e,t,n){e.exports=n(85)},45:function(e,t,n){},46:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,n){},48:function(e,t,n){},82:function(e,t){},85:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),i=n.n(a),c=(n(45),n(2));n(46),n(47),n(48);var s=function(e){var t=Object(r.useState)(""),n=Object(c.a)(t,2),a=n[0],i=n[1];return o.a.createElement("div",null,o.a.createElement("div",null,"Enter Board size"),o.a.createElement("div",{className:"Register-class"},o.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(3)}},"3"),o.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(4)}},"4"),o.a.createElement("button",{className:"selectButton",onClick:function(t){e.handleRegisterPress(5)}},"5"),o.a.createElement("input",{placeholder:"size",onChange:function(e){return i(e.target.value),void console.log(a)},onKeyPress:function(t){!function(t){13==t.charCode&&(t.preventDefault(),""===a?alert("Enter a number"):isNaN(a)||e.handleRegisterPress(a))}(t)}})))},l=n(34),u=n(35);var f=function(e){var t=Object(r.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(0),l=Object(c.a)(s,2),u=l[0],f=l[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=e.index,n=Math.floor(t/e.size),r=t%e.size,o=m.current.getContext("2d"),a=new Image;a.onload=function(){e.handleChangeSize(a.height,a.width+20);var t=a.width/e.size,c=a.height/e.size;i(c),f(t),o.drawImage(a,t*r,c*n,t,c,0,0,t,c)},a.src=e.imageUrl}),[a,u]),o.a.createElement("div",null,o.a.createElement("canvas",{ref:m,height:a+"px",width:u+"px"}))};var m=function(e){var t=Object(r.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(0),l=Object(c.a)(s,2),u=l[0],f=l[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=m.current.getContext("2d"),n=new Image;n.onload=function(){var r=n.width,o=n.height;i(o/e.size),f(r/e.size),t.drawImage(n,0,0,r/e.size,o/e.size)},n.src=e.imageUrl}),[a,u]),o.a.createElement("div",null,o.a.createElement("canvas",{ref:m,height:a+"px",width:u+"px"}))};function d(){var e=Object(l.a)(["\n        width: ","%;\n        box-sizing: border-box;\n        "]);return d=function(){return e},e}var g=function(e){var t=Object(r.useState)(e.size*e.size-1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)([]),l=Object(c.a)(s,2),g=l[0],h=l[1],v=Object(r.useState)("600px"),z=Object(c.a)(v,2),E=z[0],b=z[1],S=Object(r.useState)("600px"),p=Object(c.a)(S,2),j=p[0],y=p[1],k=u.a.div(d(),100/e.size),w=function(e,t){console.log("changed size"),b(e),y(t)},O=function(t){if(console.log("USER CLICKED:",t.key),console.log("array:",g),"ArrowDown"===t.key){var n=Math.floor(a/e.size),r=a%e.size,o=(n+1)*e.size+r;if(n+1<e.size){var c=g,s=c[o];c[o]=c[a],c[a]=s,i((function(t){return(n+1)*e.size+r})),h((function(e){return c})),C(c)}}if("ArrowUp"===t.key){var l=Math.floor(a/e.size),u=a%e.size,f=(l-1)*e.size+u;if(f>=0){var m=g,d=m[f];m[f]=m[a],m[a]=d,i((function(t){return(l-1)*e.size+u})),h((function(e){return m})),C(m)}}if("ArrowLeft"===t.key){var v=Math.floor(a/e.size),z=a%e.size,E=v*e.size+(z-1);if(z-1>=0){var b=g,S=b[E];b[E]=b[a],b[a]=S,i((function(t){return v*e.size+(z-1)})),h((function(e){return b})),C(b)}}if("ArrowRight"===t.key){var p=Math.floor(a/e.size),j=a%e.size,y=p*e.size+(j+1);if(j+1<e.size){var k=g,w=k[y];k[y]=k[a],k[a]=w,i((function(t){return p*e.size+(j+1)})),h((function(e){return k})),C(k)}}},x=function(t,n){t.path.length;for(var r=0,o=0;o<g.length;o++)t.path[2].id==g[o].key&&(r=o);console.log(g[r].key);var c=Math.floor(r/e.size),s=r%e.size,l=Math.floor(a/e.size),u=a%e.size;if(c==l-1&&u==s){var f=g,m=f[r];f[r]=f[a],f[a]=m,console.log("SWAP SUCCESS"),i((function(e){return r})),h((function(e){return f})),C(f)}if(c==l+1&&u==s){var d=g,v=d[r];d[r]=d[a],d[a]=v,console.log("SWAP SUCCESS"),i((function(e){return r})),h((function(e){return d})),C(d)}if(c==l&&u==s+1){var z=g,E=z[r];z[r]=z[a],z[a]=E,console.log("SWAP SUCCESS"),i((function(e){return r})),h((function(e){return z})),C(z)}if(c==l&&u==s-1){var b=g,S=b[r];b[r]=b[a],b[a]=S,console.log("SWAP SUCCESS"),i((function(e){return r})),h((function(e){return b})),C(b)}console.log("handleClick array:",g,r)},C=function(t){console.log("check win:",t),console.log(t[0]);for(var n=0,r=0;r<e.size*e.size-1;r++)t[r].key==r&&n++,console.log("TEST IS ",n);n==e.size*e.size-1&&alert("WIN!!")};return Object(r.useEffect)((function(){console.log("refresh"),0===g.length&&function(t){console.log("initArray size:",t);for(var n=[],r=0;r<t*t;r++)if(r!==t*t-1){Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random());n.push(o.a.createElement(k,{key:r,id:r},o.a.createElement(f,{handleChangeSize:w,imageUrl:e.imageUrl,size:t,index:r},r)))}else n.push(o.a.createElement(k,{key:t*t-1,id:r},o.a.createElement("div",null)));for(var a=[],i=0;i<t*t-1;i++)a.push(n[e.random[i]]);a.push(n[t*t-1]),h(a)}(e.size);for(var t=0;t<e.size*e.size;t++)document.getElementById(t)&&document.getElementById(t).addEventListener("click",x);return document.addEventListener("keydown",O,!1),console.log("created keydown event"),function(){document.removeEventListener("keydown",O,!1),console.log("removed keydown event");for(var t=0;t<e.size*e.size;t++)console.log("deleting"),document.getElementById(t)&&(console.log("exist"),document.getElementById(t).removeEventListener("click",x))}}),[g,a]),o.a.createElement("div",{className:"flex-game"},o.a.createElement("div",{style:{width:"1rem"}},"Image:",o.a.createElement(m,{size:3,imageUrl:e.imageUrl})),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:E,width:j},onKeyPress:function(e){O()}},o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},g)),o.a.createElement("div",{style:{height:"1rem"}}))},h=n(8);var v=Object(h.b)("SocketStore")(Object(h.c)((function(e){e.SocketStore;var t=Object(r.useState)(""),n=Object(c.a)(t,2),a=n[0],i=n[1],l=Object(r.useState)([]),u=Object(c.a)(l,2),f=u[0],m=u[1],d=Object(r.useState)(""),h=Object(c.a)(d,2),v=h[0],z=h[1];return Object(r.useEffect)((function(){var e=["https://i.imgur.com/YLWsY4G.jpg","https://i.imgur.com/Irg9QIx.jpg","https://i.imgur.com/W9U5y71.jpg"],t=Math.floor(Math.random()*e.length);z(e[t])}),[]),""===a?o.a.createElement("div",{className:"App"},o.a.createElement(s,{handleRegisterPress:function(e){for(var t=[],n=0;n<e*e-1;n++)t.push(n);t.sort((function(){return Math.random()-.5})),console.log(t),m(t),i(e)}})):o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Lobby-class"},o.a.createElement(g,{size:a,random:f,imageUrl:v})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(11),E=(n(52),z.a.model("SocketStore",{socket:z.a.frozen(),username:z.a.string}).views((function(e){return{getUsername:function(){return e.username}}})).actions((function(e){return{register:function(t){e.username=t},setName:function(t){e.username=t},afterCreate:function(){},setSocket:function(t){e.socket=t}}})).create({socket:{},username:""}));console.log(E),i.a.render(o.a.createElement(h.a,{SocketStore:E},o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.df5359e5.chunk.js.map